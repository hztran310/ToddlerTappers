<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toddler Tappers - Game Menu</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js"></script>
    <title>Toddler Tappers - Game Menu</title>
</head>
<body>
    <div class="container">
        <main>
            <div class="gamemenu_title">
                <img src="images/homepage_title.png" alt="Homepage Title" />
            </div>
            <a href="Bubble/index.html" class="game-option" id="bubble">
                <img src="images/gamemenu_bubble.png" alt="Bubble Game" />
                <img src="images/bubble_title.png" alt="Bubble Title" class="title" />
            </a>
            <a href="Sorting/index.html" class="game-option" id="sorting">
                <img src="images/gamemenu_sorting.png" alt="Sorting Game" />
                <img src="images/sorting_title.png" alt="Sorting Title" class="title" />
            </a>
            <a href="Threading/index.html" class="game-option" id="threading">
                <img src="images/gamemenu_threading.png" alt="Threading Game" />
                <img src="images/threading_title.png" alt="Threading Title" class="title" />
            </a>
        </main>
    </div>
    <script src="sketch.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add('fade-in');
        });        
    </script>
    <script>
        // Ensure the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Apply fade-in effect when the page loads
            document.body.classList.add('fade-in');
    
            // Load the sound
            const startSound = new Audio('sounds/start.mp3'); // Adjust the path if necessary
    
            // Add event listeners to game buttons
            const gameButtons = document.querySelectorAll('.game-option');
            gameButtons.forEach(button => {
                button.addEventListener('click', event => {
                    event.preventDefault(); // Prevent immediate navigation
                    const href = button.getAttribute('href'); // Get the target URL
    
                    // Play the sound
                    if (startSound) {
                        startSound.play();
                    }
    
                    // Apply fade-out effect
                    document.body.classList.add('fade-out');
    
                    // Navigate to the new page after a delay (matching the fade-out duration)
                    setTimeout(() => {
                        window.location.href = href;
                    }, 1000); // 1 second delay to match CSS animation duration
                });
            });
        });
    </script>    
</body>
</html>